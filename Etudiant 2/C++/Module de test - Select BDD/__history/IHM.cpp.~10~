//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "IHM.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
#define HOST "192.168.65.79"
#define USER "msv"
#define PASSWORD "msv"
#define DATABASE "Projet_Cross"
TForm1 *Form1;
//---------------------------------------------------------------------------
__fastcall TForm1::TForm1(TComponent* Owner)
	: TForm(Owner)
{
	BDD = new ClassBDD(Memo1);
	int ResultConnexion = BDD->connectBDD();
	if (ResultConnexion == 1)
	{
	Panel->Color = clLime;
	}
}
//---------------------------------------------------------------------------
void __fastcall TForm1::ValiderClick(TObject *Sender)
{
Resultat->Visible= true;
Memo1->Visible= true;
}
//---------------------------------------------------------------------------


void __fastcall TForm1::SelectClick(TObject *Sender)
{
BDD->selectCourse();
}
//---------------------------------------------------------------------------

void __fastcall TForm1::Timer1Timer(TObject *Sender)
{
	MYSQL *conn;
	mySQL = mysql_init(NULL);


	conn=mysql_real_connect(mySQL, HOST, USER, PASSWORD, DATABASE, 0, NULL, 0);
	std::stringstream stringbuilder;
	if(conn==NULL)
	{
	}
	else
	{
		stringbuilder << "SELECT `IdCourse` AND `Nom` FROM `Course`";
		mysql_query(mySQL, stringbuilder.str().c_str());
    }
}
//---------------------------------------------------------------------------

